        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>RouteNode abstract class / route Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="route" data-type="RouteNode">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../route.html">route</a> &rsaquo; <a href="../route/RouteNode.html">RouteNode</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
<h2><div class="icon-library"></div><a href="../request.html">request</a></h2><h2><div class="icon-library"></div><a href="../route.html">route</a></h2><ul class="icon">
<li><a href="../route/PauseStateChangeHandler.html"><div class="icon-interface"></div>PauseStateChangeHandler</a></li>
<li><div class="icon-class"></div><strong>RouteNode</strong></li>
<li><a href="../route/RouteNodeType.html"><div class="icon-class"></div>RouteNodeType</a></li>
<li><a href="../route/RouteStream.html"><div class="icon-class"></div>RouteStream</a></li>
<li><a href="../route/RouteStreamController.html"><div class="icon-class"></div>RouteStreamController</a></li>
<li><a href="../route/RouteStreamSink.html"><div class="icon-class"></div>RouteStreamSink</a></li>
<li><a href="../route/RouteStreamSubscription.html"><div class="icon-class"></div>RouteStreamSubscription</a></li>
<li><a href="../route/SubscriptionStateChangeHandler.html"><div class="icon-interface"></div>SubscriptionStateChangeHandler</a></li>
</ul>
<h2><div class="icon-library"></div><a href="../server.html">server</a></h2><h2><div class="icon-library"></div><a href="../utils.html">utils</a></h2></div>
<div class="content">
        <h2><strong>RouteNode</strong>
          abstract class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>A node that forms routing trees.</p>
<p>Each node represents a path in the server. These nodes are defined by splitting
the path by slash characters ("/") and creating a node for each part of the path. Here,
we call this parts as "steps".</p>
<p>A path like "/foo/bar" will have two steps, "foo" and "bar". A node will be created
for the "foo" step and it will be a child of the tree's root node. Another node will be created for the "bar" step
and this node will be a child of the "foo" node. It is worth noting that a node may have many children.</p>
<p>When defining paths, the server creates trees with these node and each node has its own stream of requests.
When the server receives a request for a path, it finds is node and if the node's stream has a subscriber, it is
feeded with the request. If not, the request is treated with the server's "not found" handler.</p>
<pre class="source">
abstract class RouteNode {

 /**
  * The type of this node's step.
  *
  * A node may be strict, generic or key. A strict node only matches requests with paths that strictly match its step
  * (the paths are matched step by step). A generic node matches anything to its step. Key nodes also match anything to
  * its step, but is also stores the value matched so it can be used by the request handler.
  */
 RouteNodeType type;

 /// This node's children
 List&lt;RouteNode&gt; children;
 //List&lt;Middleware&gt; middlewares;

 /// Key names associated to this path.
 List&lt;String&gt; keysNames;
 RouteStreamController controller;

 /// This node's step name.
 String stepName;
 bool get isClosed;

 factory RouteNode (RouteNodeType type, String route) =&gt;
     new _RouteNode(type, route);

 /**
  * Returns the node identified by the routeSteps.
  *
  * Searches the tree that has this node as root until it finds the node identified by this steps. If it doesn't find
  * a node identified by this steps, all node necessary to reach it are created.
  */
 RouteNode findNode (List&lt;String&gt; routeSteps);

 /**
  * Passes the request to the appropriate stream and returns true if succeded.
  *
  * Searches the tree that has this node as root to find the node matching the request. If it is found and it's stream
  * has a subscriber, the stream is feeded with the request, returning true. If not, returns false.
  */
 bool routeRequest (RoutingRequest routingRequest);

 /**
  * Opens a new stream.
  *
  * Creates a new [RouteStreamController] if the current is non-existent or is closed.
  */
 void openStream ();


 /**
  * Closes the stream.
  *
  * Closes streamController and, if [closeTree] is true, also closes all of its descendent's streams.
  */
 void closeStream (bool closeTree);

}
</pre>
</div>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="RouteNode">
<button class="show-code">Code</button>
factory <strong>RouteNode</strong>(<a href="../route/RouteNodeType.html">RouteNodeType</a> type, <a href="http://api.dartlang.org/dart_core/String.html">String</a> route) <a class="anchor-link" href="#RouteNode"
              title="Permalink to RouteNode.RouteNode">#</a></h4>
<div class="doc">
<pre class="source">
factory RouteNode (RouteNodeType type, String route) =&gt;
   new _RouteNode(type, route);
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="children">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>&lt;<a href="../route/RouteNode.html">RouteNode</a>&gt;         <strong>children</strong> <a class="anchor-link"
            href="#children"
            title="Permalink to RouteNode.children">#</a>
        </h4>
        <div class="doc">
<p>This node's children</p>
<pre class="source">
List&lt;RouteNode&gt; children
</pre>
</div>
</div>
<div class="field"><h4 id="controller">
<button class="show-code">Code</button>
<a href="../route/RouteStreamController.html">RouteStreamController</a>         <strong>controller</strong> <a class="anchor-link"
            href="#controller"
            title="Permalink to RouteNode.controller">#</a>
        </h4>
        <div class="doc">
<pre class="source">
RouteStreamController controller
</pre>
</div>
</div>
<div class="field"><h4 id="isClosed">
<button class="show-code">Code</button>
final <a href="http://api.dartlang.org/dart_core/bool.html">bool</a>         <strong>isClosed</strong> <a class="anchor-link"
            href="#isClosed"
            title="Permalink to RouteNode.isClosed">#</a>
        </h4>
        <div class="doc">
<pre class="source">
bool get isClosed;
</pre>
</div>
</div>
<div class="field"><h4 id="keysNames">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/List.html">List</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt;         <strong>keysNames</strong> <a class="anchor-link"
            href="#keysNames"
            title="Permalink to RouteNode.keysNames">#</a>
        </h4>
        <div class="doc">
<p>Key names associated to this path.</p>
<pre class="source">
List&lt;String&gt; keysNames
</pre>
</div>
</div>
<div class="field"><h4 id="stepName">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/String.html">String</a>         <strong>stepName</strong> <a class="anchor-link"
            href="#stepName"
            title="Permalink to RouteNode.stepName">#</a>
        </h4>
        <div class="doc">
<p>This node's step name.</p>
<pre class="source">
String stepName
</pre>
</div>
</div>
<div class="field"><h4 id="type">
<button class="show-code">Code</button>
<a href="../route/RouteNodeType.html">RouteNodeType</a>         <strong>type</strong> <a class="anchor-link"
            href="#type"
            title="Permalink to RouteNode.type">#</a>
        </h4>
        <div class="doc">
<p>The type of this node's step.</p>
<p>A node may be strict, generic or key. A strict node only matches requests with paths that strictly match its step
(the paths are matched step by step). A generic node matches anything to its step. Key nodes also match anything to
its step, but is also stores the value matched so it can be used by the request handler.</p>
<pre class="source">
RouteNodeType type
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="closeStream">
abstract void <strong>closeStream</strong>(<a href="http://api.dartlang.org/dart_core/bool.html">bool</a> closeTree) <a class="anchor-link" href="#closeStream"
              title="Permalink to RouteNode.closeStream">#</a></h4>
<div class="doc">
<p>Closes the stream.</p>
<p>Closes streamController and, if 
<span class="param">closeTree</span> is true, also closes all of its descendent's streams.</p>
</div>
</div>
<div class="method"><h4 id="findNode">
abstract <a href="../route/RouteNode.html">RouteNode</a> <strong>findNode</strong>(<a href="http://api.dartlang.org/dart_core/List.html">List</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt; routeSteps) <a class="anchor-link" href="#findNode"
              title="Permalink to RouteNode.findNode">#</a></h4>
<div class="doc">
<p>Returns the node identified by the routeSteps.</p>
<p>Searches the tree that has this node as root until it finds the node identified by this steps. If it doesn't find
a node identified by this steps, all node necessary to reach it are created.</p>
</div>
</div>
<div class="method"><h4 id="openStream">
abstract void <strong>openStream</strong>() <a class="anchor-link" href="#openStream"
              title="Permalink to RouteNode.openStream">#</a></h4>
<div class="doc">
<p>Opens a new stream.</p>
<p>Creates a new <a class="crossref" href="../route/RouteStreamController.html">RouteStreamController</a> if the current is non-existent or is closed.</p>
</div>
</div>
<div class="method"><h4 id="routeRequest">
abstract <a href="http://api.dartlang.org/dart_core/bool.html">bool</a> <strong>routeRequest</strong>(<a href="../request/RoutingRequest.html">RoutingRequest</a> routingRequest) <a class="anchor-link" href="#routeRequest"
              title="Permalink to RouteNode.routeRequest">#</a></h4>
<div class="doc">
<p>Passes the request to the appropriate stream and returns true if succeded.</p>
<p>Searches the tree that has this node as root to find the node matching the request. If it is found and it's stream
has a subscriber, the stream is feeded with the request, returning true. If not, returns false.</p>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-04-13 22:00:28.951</div>
        </div>
        <script async src="../client-static.js"></script>
        </body></html>
        
